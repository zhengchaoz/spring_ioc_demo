<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>axios</title>
    </head>
    <body>
        <h1>axios</h1>
        <script src="../js/axios.js"></script>
        <script>
            // 配置ajax的基本路径
            axios.defaults.baseURL = "http://localhost:8080/";
            // 添加请求头信息token令牌信息
            // axios.defaults.headers.mytoken = "123456";
            // url要全路径
            // axios.get("http://localhost:8080/axios/郑超").then(r => alert(r.data));
            // axios.get("axios?name=郑超").then(r => alert(r.data));
            // 利用params对象的方式传递参数
            // axios.get("axios", {
            //     params: {
            //         name: '郑超'
            //     }
            // }).then(r => alert(r.data));

            // axios.post("axios/郑超").then(r => alert(r.data));
            // 对象参数自动转为json
            // axios.post("axiosObj", {
            //     id: 1001,
            //     name: '郑超'
            // }).then(r => alert("Obj: " + r.data));
            // 定义表单对象
            // let params = new URLSearchParams();
            // params.append("id", "10001");
            // params.append("name", "自动");
            // axios.post("axiosForm", params).then(r => alert("Obj: " + r.data));

            // axios.put("").then(r => alert(r.data));
            // axios.delete("").then(r => alert(r.data));

            async function hello() {
                // const result = await axios.get("/axios/郑超");
                // console.log(result.data);

                const {data: str} = await axios.get("/axios/郑超");
                console.log(str);
            }

            hello();
        </script>
    </body>
</html>